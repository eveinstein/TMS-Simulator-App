{
  "version": "1.1.0",
  "description": "Popup trigger configuration for Vascular CPT Coding Assistant",
  "last_updated": "2025-12-17",
  
  "em_codes": {
    "office_new": ["99202", "99203", "99204", "99205"],
    "office_established": ["99212", "99213", "99214", "99215"],
    "hospital_initial": ["99221", "99222", "99223"],
    "hospital_subsequent": ["99231", "99232", "99233"],
    "hospital_discharge": ["99238", "99239"],
    "all": [
      "99202", "99203", "99204", "99205",
      "99212", "99213", "99214", "99215",
      "99221", "99222", "99223",
      "99231", "99232", "99233",
      "99238", "99239"
    ]
  },
  
  "amputation_codes": ["27590", "27880", "28805", "28820"],
  
  "dialysis_base_codes": ["36901", "36902", "36903", "36904", "36905", "36906"],
  "dialysis_addon_codes": ["36907", "36908", "36909"],

  "addon_requirements": {
    "_comment": "Maps add-on codes to their required primary codes. 'any_procedure' means any non-addon code.",
    "36248": { "name": "Selective Cath (Add'l Branch)", "requires": ["36245", "36246", "36247"] },
    "37252": { "name": "IVUS (Initial)", "requires": "any_procedure" },
    "37253": { "name": "IVUS (Additional)", "requires": ["37252"] },
    "76937": { "name": "US Access Guidance", "requires": "any_procedure" },
    "33883": { "name": "TEVAR Proximal Extension", "requires": ["33880", "33881"] },
    "36907": { "name": "Central PTA", "requires": ["36901", "36902", "36903", "36904", "36905", "36906"] },
    "36908": { "name": "Central Stent", "requires": ["36901", "36902", "36903", "36904", "36905", "36906"] },
    "36909": { "name": "Dialysis Embolization", "requires": ["36901", "36902", "36903", "36904", "36905", "36906"] },
    "37186": { "name": "Secondary Thrombectomy", "requires": ["37184", "37185", "37187", "37188"] }
  },

  "ncci_edit_pairs": {
    "_comment": "NCCI edits - codes that should NOT be billed together without modifier. Does NOT include valid base+addon combinations.",
    "pairs": [
      { "codes": ["36901", "36902"], "description": "36902 includes 36901 diagnostic work" },
      { "codes": ["36901", "36903"], "description": "36903 includes 36901 diagnostic work" },
      { "codes": ["36902", "36903"], "description": "36903 (stent) supersedes 36902 (PTA)" },
      { "codes": ["36904", "36905"], "description": "36905 includes 36904 thrombectomy" },
      { "codes": ["36904", "36906"], "description": "36906 includes 36904 thrombectomy" },
      { "codes": ["36905", "36906"], "description": "36906 (stent) supersedes 36905 (PTA)" },
      { "codes": ["37224", "37225"], "description": "Use 37225 if atherectomy performed" },
      { "codes": ["37224", "37226"], "description": "Use 37226 if stent placed" },
      { "codes": ["37224", "37227"], "description": "Use 37227 for atherectomy + stent" },
      { "codes": ["37225", "37226"], "description": "Use 37227 for atherectomy + stent (not both codes)" },
      { "codes": ["37225", "37227"], "description": "Use 37227 for atherectomy + stent" },
      { "codes": ["37226", "37227"], "description": "Use 37227 for atherectomy + stent" },
      { "codes": ["37228", "37229"], "description": "Use 37229 if atherectomy performed" },
      { "codes": ["37228", "37230"], "description": "Use 37230 if stent placed" },
      { "codes": ["37228", "37231"], "description": "Use 37231 for atherectomy + stent" },
      { "codes": ["37229", "37230"], "description": "Use 37231 for atherectomy + stent (not both codes)" },
      { "codes": ["37229", "37231"], "description": "Use 37231 for atherectomy + stent" },
      { "codes": ["37230", "37231"], "description": "Use 37231 for atherectomy + stent" },
      { "codes": ["37220", "37221"], "description": "Use 37221 if stent placed" }
    ]
  },
  
  "endovascular_categories": [
    "Aortic (Endo)",
    "Endovascular LER",
    "Endovascular LER (2026)",
    "Endovascular (Carotid)"
  ],
  
  "revasc_categories": [
    "Endovascular LER",
    "Endovascular LER (2026)",
    "Open Vascular"
  ],
  
  "popups": [
    {
      "id": "dialysis_hierarchy_warning",
      "title": "⚠️ Dialysis Base Code Conflict",
      "priority": 1,
      "type": "error",
      "color": "red",
      "trigger": {
        "type": "multiple_codes_from_list",
        "code_list": "dialysis_base_codes",
        "minimum_count": 2
      },
      "content_reference": "popup_6",
      "dismissable": true,
      "show_once_per_session": false
    },
    {
      "id": "code_transition_2026",
      "title": "⚠️ 2026 Code Change Alert",
      "priority": 2,
      "type": "warning",
      "color": "orange",
      "trigger": {
        "type": "code_status",
        "status": "deleted_2026"
      },
      "content_reference": "popup_7",
      "dismissable": true,
      "show_once_per_session": true
    },
    {
      "id": "global_90_reminder",
      "title": "90-Day Global Period Reminder",
      "priority": 3,
      "type": "warning",
      "color": "amber",
      "trigger": {
        "type": "global_period",
        "global_value": 90
      },
      "content_reference": "popup_1",
      "dismissable": true,
      "show_once_per_session": true
    },
    {
      "id": "decision_for_surgery",
      "title": "Did Today's Visit Include the Decision for Major Surgery?",
      "priority": 4,
      "type": "info",
      "color": "blue",
      "trigger": {
        "type": "compound",
        "conditions": [
          {
            "type": "global_period",
            "global_value": 90
          },
          {
            "type": "code_in_list",
            "code_list": "em_codes.all"
          }
        ],
        "logic": "AND"
      },
      "content_reference": "popup_2",
      "dismissable": true,
      "show_once_per_session": true
    },
    {
      "id": "staged_vs_complication",
      "title": "Return to OR: Staged/Progression vs. Complication?",
      "priority": 5,
      "type": "decision",
      "color": "blue_amber",
      "trigger": {
        "type": "compound",
        "conditions": [
          {
            "type": "multiple_codes_with_global",
            "global_value": 90,
            "minimum_count": 2
          },
          {
            "type": "compound_or",
            "conditions": [
              {
                "type": "code_in_list_and_category",
                "code_list": "amputation_codes",
                "category_list": "revasc_categories"
              }
            ]
          }
        ],
        "logic": "OR"
      },
      "content_reference": "popup_4",
      "dismissable": true,
      "show_once_per_session": false
    },
    {
      "id": "endovascular_checklist",
      "title": "Endovascular Documentation Checklist",
      "priority": 6,
      "type": "checklist",
      "color": "neutral",
      "trigger": {
        "type": "category_match",
        "categories": "endovascular_categories"
      },
      "content_reference": "popup_3",
      "dismissable": true,
      "show_once_per_session": false,
      "show_as": "slide_panel"
    },
    {
      "id": "em_minor_procedure",
      "title": "Same-Day Visit + Minor Procedure",
      "priority": 7,
      "type": "info",
      "color": "blue",
      "trigger": {
        "type": "compound",
        "conditions": [
          {
            "type": "global_period_in",
            "global_values": [0, 10]
          },
          {
            "type": "code_in_list",
            "code_list": "em_codes.all"
          }
        ],
        "logic": "AND"
      },
      "content_reference": "popup_5",
      "dismissable": true,
      "show_once_per_session": true
    }
  ],
  
  "sidebar_tabs": [
    {
      "id": "modifiers",
      "label": "Modifiers",
      "icon": "tag",
      "order": 1,
      "cards": [
        "big_four_modifiers",
        "modifier_57",
        "modifier_24",
        "modifier_58_vs_78",
        "modifier_25",
        "modifier_59_x",
        "modifier_22"
      ]
    },
    {
      "id": "endo_addons",
      "label": "Endo Add-Ons",
      "icon": "plus-circle",
      "order": 2,
      "cards": [
        "ivus",
        "selective_cath",
        "us_guidance",
        "ivl_shockwave"
      ]
    },
    {
      "id": "dialysis",
      "label": "Dialysis Access",
      "icon": "activity",
      "order": 3,
      "cards": [
        "dialysis_hierarchy",
        "dialysis_globals",
        "dialysis_scenarios"
      ]
    },
    {
      "id": "imaging",
      "label": "Imaging / S&I",
      "icon": "image",
      "order": 4,
      "cards": [
        "vascular_lab",
        "imaging_bundling"
      ]
    },
    {
      "id": "contract",
      "label": "Contract & wRVUs",
      "icon": "file-text",
      "order": 5,
      "link_to": "/academic-wrvus",
      "cards": []
    }
  ],
  
  "code_specific_tips": {
    "37252": {
      "tip_type": "addon_reminder",
      "title": "IVUS Add-On",
      "message": "If you examined additional vessels with IVUS, add +37253 for each additional vessel.",
      "related_codes": ["37253"]
    },
    "36901": {
      "tip_type": "hierarchy_reminder",
      "title": "Dialysis Coding Hierarchy",
      "message": "If you performed intervention (PTA or stent), use 36902 or 36903 instead. 36901 is for diagnostic-only fistulogram.",
      "related_codes": ["36902", "36903"]
    },
    "36904": {
      "tip_type": "hierarchy_reminder", 
      "title": "Dialysis Thrombectomy Coding",
      "message": "If you also performed PTA, use 36905. If you placed a stent, use 36906.",
      "related_codes": ["36905", "36906"]
    },
    "35301": {
      "tip_type": "modifier_reminder",
      "title": "CEA Coding Tips",
      "message": "Patch angioplasty is included (don't bill 35390). For significantly increased complexity (redo, radiation), consider modifier -22 with documentation.",
      "related_codes": ["35390"]
    },
    "37224": {
      "tip_type": "combination_check",
      "title": "Fem/Pop Intervention",
      "message": "Did you also perform atherectomy? Use 37225. Stent? Use 37226. Both? Use 37227.",
      "related_codes": ["37225", "37226", "37227"]
    },
    "37225": {
      "tip_type": "combination_check",
      "title": "Fem/Pop Atherectomy",
      "message": "Did you also place a stent? Use 37227 instead for the combination.",
      "related_codes": ["37227"]
    },
    "37226": {
      "tip_type": "combination_check",
      "title": "Fem/Pop Stent",
      "message": "Did you also perform atherectomy? Use 37227 instead for the combination.",
      "related_codes": ["37227"]
    },
    "37228": {
      "tip_type": "combination_check",
      "title": "Tibial Angioplasty",
      "message": "Did you also perform atherectomy (37229), stent (37230), or both (37231)? Use the highest-complexity code that applies.",
      "related_codes": ["37229", "37230", "37231"]
    },
    "76937": {
      "tip_type": "documentation_reminder",
      "title": "US Guidance Documentation",
      "message": "Requires 4 elements: real-time visualization, site evaluation, patency confirmation, and SAVED IMAGE. Missing any element = cannot bill."
    },
    "37191": {
      "tip_type": "related_codes",
      "title": "IVC Filter Codes",
      "message": "Placement (37191), Repositioning (37192), Retrieval (37193) are separate procedures - don't confuse.",
      "related_codes": ["37192", "37193"]
    },
    "33880": {
      "tip_type": "year_change",
      "title": "TEVAR 2026 Update",
      "message": "2026: Imaging S&I (75956) is now bundled. wRVU reduced from 26.33 to ~24.50. New code 33882 added for fenestrated TEVAR with LSA stent."
    },
    "34705": {
      "tip_type": "addon_reminder",
      "title": "EVAR Add-Ons",
      "message": "Don't forget: IVUS (37252), iliac extension if needed. For ruptured, use 34706 instead."
    }
  },
  
  "checklist_items": {
    "endovascular": [
      {
        "id": "crossover_access",
        "label": "Contralateral / crossover access?",
        "detail": "Document the catheter course. Selective placement may be separately billable for diagnostic-only cases.",
        "related_codes": ["36245", "36246", "36247"]
      },
      {
        "id": "ivus_used",
        "label": "Used IVUS for sizing or apposition?",
        "detail": "Add +37252 (initial vessel) and +37253 (each additional). Document measurements and findings.",
        "related_codes": ["37252", "37253"]
      },
      {
        "id": "us_guided_access",
        "label": "Ultrasound-guided access with saved images?",
        "detail": "Add +76937. Document: real-time guidance, patency, permanent image saved.",
        "related_codes": ["76937"]
      },
      {
        "id": "additional_territory",
        "label": "Treated additional distinct territory?",
        "detail": "Ensure documentation supports separate coding. Consider laterality modifiers (LT/RT) or -59/XS.",
        "related_codes": []
      },
      {
        "id": "atherectomy_stent",
        "label": "Atherectomy AND stent performed?",
        "detail": "Use the correct combination code — don't undercode. 2025: 37227 (fem/pop), 37231 (tibial). 2026: 37275/37277 (fem/pop), 37292/37294 (tibial).",
        "related_codes": ["37227", "37231", "37275", "37277", "37292", "37294"]
      },
      {
        "id": "ivl_performed",
        "label": "Intravascular lithotripsy for calcified lesions?",
        "detail": "2026: Add +37279 for fem/pop territory. Document calcification and cycles delivered.",
        "related_codes": ["37279"]
      }
    ]
  }
}
